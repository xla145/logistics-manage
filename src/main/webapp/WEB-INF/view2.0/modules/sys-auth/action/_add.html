<#include "../../../_layout/_layout2.0.html"><#t>
<@header/>
<div style="margin: 15px; " id="add-form">
	<form class="layui-form layui-form-pane" id="edit-form">
		<div class="layui-form-item">
			<label class="layui-form-label">功能名称</label>
			<div class="layui-input-inline">
				<input name="id" id="id" value="${data.id!''}" type="hidden">
				<input type="text" name="name" placeholder="请输入功能名称" autocomplete="off" class="layui-input" value="${data.name!''}" lay-verify="required">
			</div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">功能URL</label>
			<div class="layui-input-inline">
				<input type="text" name="url" placeholder="请输入功能url" autocomplete="off" class="layui-input" value="${data.url!''}" lay-verify="required">
			</div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">图标</label>
			<div class="layui-input-inline">
                <input type="text" name="icon" placeholder="请输入图标" autocomplete="off" class="layui-input" value="${data.icon!''}">
			</div>
			<div class="layui-form-mid layui-word-aux"><a href="javascript:void(0)" class="operator-btn" data-type="catIcon">查看图标</a></div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">功能类型</label>
			<div class="layui-input-inline">
				<select name="type" lay-verify="required">
					<option value="">请选择</option>
					<option value="1" <#if data.type?? && data.type == 1>selected</#if>>系统功能</option>
					<option value="2" <#if data.type?? && data.type == 2>selected</#if>>导航菜单</option>
				</select>
			</div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">父级节点</label>
			<div class="layui-input-inline">
				<select name="parentId" lay-verify="required">
					<option value="">请选择</option>
					<option value="-1" <#if data.parentId?? && data.parentId == -1>selected</#if>>顶级菜单</option>
					<@module name="option" class="com.logistics.label.impl.GetActionNode" checked="${data.parentId!''}"/>
				</select>
			</div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">权重</label>
			<div class="layui-input-inline">
				<input type="number" name="weight" class="layui-input" value="${data.weight!''}">
			</div>
			<div class="layui-form-mid layui-word-aux">越小越靠前</div>
		</div>
		<div class="layui-form-item layui-form-text">
			<label class="layui-form-label">备注</label>
			<div class="layui-input-block">
				<textarea name="remark" placeholder="请输入备注信息" class="layui-textarea">${data.remark!''}</textarea>
			</div>
		</div>
	</form>
</div>
<@footer>
<script>
	//入口
	layui.use(['form'], function(){
		var $ = layui.jquery,form = layui.form;

		var showWidth = 1000;
        // 编辑 删除
        var $ = layui.$, active = {
            catIcon: function (row) {
                var width = (window.screen.width - showWidth) / 2
                var url = '${ctx}sysAction/catIcon'
                window.open(url, '_blank', 'toolbar=yes, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory = yes, width= ' + showWidth + ', height= 600, left=' + width)
            }
		}

        //绑定操作按钮
        $('.operator-btn').on('click', function(){
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });
	});
</script>
</@footer>
