<#include "../../_layout/_layout2.0.html"><#t>
<@header/>
<div style="margin: 15px;">
	<blockquote class="site-text site-title layui-elem-quote">仓库信息</blockquote>
	<input type="hidden" name="id" value="${data.wid!''}" id="wid">
	<form class="layui-form layui-form-pane" id="edit-form">
		<div class="layui-form-item">
			<label class="layui-form-label"><span>*</span>仓库名称:</label>
			<div class="layui-input-inline">
				<input type="text" name="name" autocomplete="off" class="layui-input" value="${data.name!''}">
			</div>
			<label class="layui-form-label"><span>*</span>负责人:</label>
			<div class="layui-input-inline">
				<input type="text" name="principal" autocomplete="off" class="layui-input" value="${data.principal!''}">
			</div>
		</div>
		<div class="layui-form-item">
			<label class="layui-form-label">电话:</label>
			<div class="layui-input-inline">
				<input type="text" name="mobile" autocomplete="off" class="layui-input" value="${data.mobile!''}" readonly>
			</div>
			<label class="layui-form-label"><span>*</span>地址:</label>
			<div class="layui-input-inline">
				<input type="text" name="address" autocomplete="off" class="layui-input" value="${data.address!''}" readonly>
			</div>
		</div>
	</form>
	<blockquote class="site-text site-title layui-elem-quote">商品列表：</blockquote>
	<table id="product-table" lay-filter="product-table"></table>
</div>
<@footer>
<script>
    //入口
    layui.use(['form','table'], function() {
        var $ = layui.jquery;
        var form = layui.form,table = layui.table;
        form.render();

        //列表渲染
        var productTable = table.render({
            id: 'product-table',
            elem: '#product-table'
            ,url: '${ctx}supplier/productGoodsList'
            ,page: true
			,where: {wid:$("#wid").val()}
            ,method: 'post'
            ,request: {
                pageName: 'pageNo' //页码的参数名称，默认：page
                ,limitName: 'pageSize' //每页数据量的参数名，默认：limit
            }
            ,limits: [10,30,60,90,120]
            ,limit: 10 //默认采用30
            ,size: 'sm'
            ,cols: [[
                {checkbox: true, fixed: true}
                ,{fixed: true,field:'pid', title: '商品编号', width:150}
                ,{field:'title', title: '商品标题', width:250}
                ,{field:'name', title: '商品名称', width:120}
                ,{field:'unit', title: '包装单位', width:120}
                ,{field:'originalPrice', title: '进货价', width:100}
                ,{field:'price', title: '售价', width:100}
                ,{fixed: 'right',field:'status', title: '状态', width:80,templet: '#statusTpl'}
            ]],
        });
    });
</script>
<script type="text/html" id="statusTpl">
	{{# if(d.status === 0){ }}
	{{ '<span style="color: darkgrey;">初始状态</span>' }}
	{{# } }}
	{{# if(d.status === 10){ }}
	{{ '<span style="color: green;">上架</span>' }}
	{{# } }}
	{{# if(d.status === 15 || d.status === 14){ }}
	{{ '<span style="color: red;">下架</span>' }}
	{{# } }}
</script>
<script type="text/html" id="releaseTimeTpl">
	{{dateFormat(d.releaseTime)}}
</script>
</@footer>
