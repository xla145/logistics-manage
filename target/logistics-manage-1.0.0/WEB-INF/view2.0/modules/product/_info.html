<#include "../../_layout/_layout2.0.html"><#t>
	<@header/>
	<div id="form-save" style="margin: 15px;">
		<form class="layui-form layui-form-pane">
			<div class="layui-form-item">
				<label class="layui-form-label"><span>*</span>商品名称：</label>
				<input type="hidden" value="${data.pid!''}" name="pid" id="pid">
				<div class="layui-input-inline" style="width: 800px;">
					<input type="text" name="name" placeholder="请输入商品名称" autocomplete="off" class="layui-input" readonly value="${data.name!''}">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label"><span>*</span>商品类型：</label>
				<input name="catId" id="catId" type="hidden" value="${data.catId!''}">
				<div class="layui-input-inline">
					<select name="OneType" id="one-product-type" lay-filter="oneProductType" disabled>
						<option value="">全部</option>
						<@module name="option" class="com.logistics.label.impl.GetProductCategoryNode" checked="${data.parentCatId!''}"/>
					</select>
				</div>
				<div class="layui-input-inline">
					<select name="TwoType" id="two-product-type" lay-filter="twoProductType" disabled>
						<option value="">全部</option>
					</select>
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label"><span>*</span>价格：</label>
				<div class="layui-input-inline">
					<#if data.price??>
						<input type="text" name="price" placeholder="请输入商品价格" autocomplete="off" class="layui-input" lay-verify="required" value="${data.price?string('#.##')}" readonly>
						<#else>
							<input type="text" name="price" placeholder="请输入商品价格" autocomplete="off" class="layui-input" lay-verify="required" readonly>
					</#if>
				</div>
				<label class="layui-form-label">参考价格：</label>
				<div class="layui-input-inline">
					<#if data.referencePrice??>
						<input type="text" name="referencePrice" placeholder="请输入参考价格" autocomplete="off" class="layui-input" value="${data.referencePrice?string('#.##')}" readonly>
						<#else>
							<input type="text" name="referencePrice" placeholder="请输入参考价格" autocomplete="off" class="layui-input" readonly>
					</#if>
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">包装单位：</label>
				<div class="layui-input-inline">
					<input type="text" name="unit" placeholder="请输入包装单位" autocomplete="off" class="layui-input" value="${data.unit!''}" readonly>
				</div>
				<label class="layui-form-label"><span>*</span>供应商：</label>
				<div class="layui-input-inline">
					<select name="supplierId" lay-verify="required"  disabled>
						<option value="">请选择</option>
						<@module name="option" class="com.logistics.label.impl.GetSupplierNode" checked="${data.supplierId!''}"/>
					</select>
				</div>
			</div>
			<div class="layui-form-item">
				<fieldset class="layui-elem-field layui-field-title">
					<legend><span style="color: red;">*</span>上传封面图片：</legend>
				</fieldset>
				<div class="layui-input-inline">
					<div class="layui-upload-drag" id="img-url">
						<#if data.imageUrl??>
							<input type='hidden' name='imageUrl' value="${data.imageUrl!''}"> <img width='200' src="${data.imageUrl!''}">
						</#if>
					</div>
				</div>
			</div>
		</form>
	</div>
	<@footer>
	<script>
        //入口
        layui.use(['form'], function() {
            var $ = layui.jquery;
            var form = layui.form;
            var catId = $("#catId").val();
            if (catId !== "") {
                var seletedCatId = $("#one-product-type").find("option:selected").val();
                $("#two-product-type").empty();
                $.get("${ctx}product/getCatList",{type:seletedCatId},function (result) {
                    var html = "<option value=''>请选择</option>";
                    layui.each(result.data,function (i,j) {
                        if (catId == j.catId) {
                            html+="<option value='"+j.catId+"' selected>"+j.name+"</option>"
                        } else {
                            html+="<option value='"+j.catId+"'>"+j.name+"</option>"
                        }
                    })
                    $("#two-product-type").append(html);
                    form.render();
                })

            }
        });
	</script>
</@footer>
<style type="text/css">
	.layui-elem-field legend {
		margin-left: 20px;
		padding: 0 10px;
		font-size: 12px;
		font-weight: 500;
	}
</style>
